(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const a of e.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function o(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var l=/["'&<>]/,i=u;function u(r){var s=""+r,n=l.exec(s);if(!n)return s;var o,t="",e=0,a=0;for(e=n.index;e<s.length;e++){switch(s.charCodeAt(e)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#39;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}a!==e&&(t+=s.substring(a,e)),a=e+1,t+=o}return a!==e?t+s.substring(a,e):t}const p="localhost";function d(r){let s=document.querySelector(".chat"),n=new Date(r.timestamp);console.log(n),r.timestamp=`${String(n.getHours()).padStart(2,"0")}:${String(n.getMinutes()).padStart(2,"0")}`;let o=`<div class="chat-message"> <span class="timestamp">${r.timestamp}</span> <span class="author" style="color: ${r.color}">${i(r.author)}</span> <span class="message">${i(r.message)}</span></div>`;s.innerHTML+=o}let c=new WebSocket("ws://"+p+":8412");c.onopen=function(r){console.log("Connected to server")};c.onmessage=function(r){console.log(r.data);let s=JSON.parse(r.data);s.type==="twitch"?d(s.data):s.type};function f(r){let s=document.querySelector(".chat"),n='<div class="notice"><span>Please refresh the page!</span></div>';s.innerHTML+=n}c.onclose=function(r){console.log("Connection closed"),f()};
